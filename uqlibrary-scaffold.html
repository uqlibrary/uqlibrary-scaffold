<link rel="import" href="../polymer/polymer.html">

<!-- Iron elements -->
<link rel="import" href="../iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../iron-selector/iron-selector.html">

<link rel="import" href="../iron-media-query/iron-media-query.html">
<link rel="import" href="../iron-icons/communication-icons.html">
<link rel="import" href="../iron-icons/social-icons.html">

<!-- Paper elements -->
<link rel="import" href="../paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../paper-header-panel/paper-header-panel.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-material/paper-material.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-styles/paper-styles-classes.html">
<link rel="import" href="../paper-toast/paper-toast.html">
<link rel="import" href="../paper-toolbar/paper-toolbar.html">

<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-input/paper-input-container.html">


<!--UQ Library elements-->
<link rel="import" href="../uqlibrary-search-input/uqlibrary-search-input.html">
<link rel="import" href="../uqlibrary-menu/uqlibrary-menu.html">

<!--
Reusable scaffold

##### Example

<uqlibrary-scaffold>
  <content> app content goes here ... </content>
</uqlibrary-scaffold>

@element uqlibrary-scaffold
@blurb Reusable scaffold containing common styling and dynamic attributes
@status alpha
@homepage https://github.com/uqlibrary/uqlibrary-scaffold
-->

<dom-module id="uqlibrary-scaffold">
  <style>
    .active {
      background: #fff;
      color: #333;
    }
  </style>
  <template>

    <iron-media-query query="(max-width: 620px)" query-matches="{{isNarrow}}"></iron-media-query>

    <paper-drawer-panel id="scaffoldDrawerPanel" force-narrow>
      <div drawer>
        <uqlibrary-menu
                account="{{account}}"
                applications="{{applications}}">
        </uqlibrary-menu>
      </div>
      <paper-header-panel main>
        <!-- Main Toolbar -->
        <paper-toolbar id="mainToolbar">

            <paper-icon-button icon="menu" tabindex="1" paper-drawer-toggle hidden$="{{searchIsActive}}"></paper-icon-button>
            <!-- Application name -->
            <div class="appName paper-font-headline" hidden$="{{searchIsActive}}">{{appTitle}}</div>

          <!--Toolbar search-->
          <uqlibrary-search-input class="flex" id="search" is-narrow$="{{isNarrow}}" enable-search-suggestions={{enableSearchSuggestions}}></uqlibrary-search-input>

          <!-- Toolbar icons -->
          <div id="rightScaffold" hidden$="{{searchIsActive}}">
            <paper-icon-button icon="communication:chat-bubble-outline" hidden$="{{isNarrow}}"></paper-icon-button>
            <paper-icon-button icon="apps"></paper-icon-button>
            <paper-icon-button icon="social:notifications-none"></paper-icon-button>
            <paper-icon-button icon="account-circle" hidden$="{{isNarrow}}"></paper-icon-button>
          </div>
        </paper-toolbar>
        <!-- Main Content -->
        <div class="content">
          <content></content>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>

  </template>
  <script>

    Polymer({
      is: 'uqlibrary-scaffold',
      properties: {
        /**
         * TODO: description of these properties
         */
//        width: '256px',
//        drawerIsOpen: false,
        searchIsActive: {
          type: Boolean,
          value: false,
          notify: true
        },
        enableSearchSuggestions: {
          type: Boolean,
          value: false

        },
        appTitle: String,

        //temp vars
        account: String,
        applications: Array
      },

      ready: function() {

        this.account = {
          "id": "s1234567",
          "class": "0",
          "type": 18,
          "homeLib": "sshia",
          "name": "Mr. John Doe",
          "mail": "s1234567@student.uq.edu.au",
          "groups": [],
          "hasSession": true,
          "canMasquerade": true
        };

        this.applications = [
          {
            "title": "My Library",
            "description": "Return to My Library",
            "icon": "dashboard",
            "link": "/home"
          },
          {
            "title": "Ask Us",
            "description": "Return to UQ Library Home",
            "icon": "home",
            "link": "/askus"
          },
          {
            "isDivider": true
          },
          {
            "title": "Borrowing",
            "description": "Ask the library for help",
            "icon": "help",
            "link": "/borrowing"
          },
          {
            "title": "Bookings",
            "description": "Ask the library for help",
            "icon": "help",
            "link": "/booking"
          }];
      }

    });
  </script>
</dom-module>
